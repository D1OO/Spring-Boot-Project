<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="template :: head"></head>
<body>
<div th:replace="template :: main-navbar"></div>
<div th:replace="template :: decor-navbar"></div>
<div th:replace="template :: main(~{:: div.maincontent})">

    <div class="maincontent d-flex flex-nowrap p-lg-3">
        <img class="pagepic" th:src="@{/img/loginpic.jpg}">
        <div class="mr-auto">
            <div class="row d-flex justify-content-start form">
                <div class=" mb-5 mb-md-0">
                    <form class="form" method="post" th:action="@{/login}">
                        <div class="col-md-11 form-group">
                            <label for="email">E-mail</label>
                            <input class="form-control"
                                   data-msg="Incorrect email"
                                   data-rule="email"
                                   id="email" name="username"/>
                            <div class="validate"></div>
                        </div>
                        <div class="col-md-11 form-group">
                            <label for="password">Password</label>
                            <input class="form-control"
                                   data-msg="Enter a valid password <br>((8+ digit or latin characters)"
                                   data-rule="pwrd"
                                   id="password"
                                   name="password"
                                   type="password">
                            <div class="validate"></div>
                        </div>
                        <div class="alert alert-info col-md-11 mb-3" role="alert" th:if="${logout}">
                            You've been logged out
                            successfully.
                        </div>
                        <div class="alert alert-danger col-md-11 mb-3" role="alert" th:if="${error}">
                            Invalid Username or
                            Password!
                        </div>
                        <div class="alert alert-success col-md-11 mb-3" role="alert" th:if="${signedup}">
                            Signed up successfully!
                        </div>
                        <div class="col-md-11 mb-3" style="background: #eeeeee">
                            <div class="loading">Loading</div>
                            <div class="error-message"></div>
                            <div class="sent-message">fifler</div>
                        </div>

                        <div class="col-md-6 form-group">
                            <input class="readmore d-block w-100" disabled="disabled" type="submit" value="SIGN IN">
                        </div>

                        <div class="col-md-12 form-group">
                            <span>Don't have an account? <a style="color:#34ce57"
                                                            th:href="@{/signup}">SIGN UP</a></span>
                        </div>
                        <div class="col-md-11 mb-2" style="color: #a55444; font-size: 0.8em">
                            <p>Demo accounts:</p>
                            <p>ADMIN: 123@123.com, 123123123e</p>
                            <p>USER: 123123@123.com, 123123123e</p>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

</div>
<div th:replace="template :: footer"></div>
<div th:replace="template :: scripts(~{::script})">  <!--(~{::script})-->
    <script>
        $(document).ready(function () {
            $('.form-control').keyup(function () {
                if (allFilled()) {
                    $('.readmore').removeAttr('disabled')
                } else {
                    $('.readmore').prop("disabled", true);
                }
            });

            function allFilled() {
                var filled = true;
                $('.form-control').each(function () {
                    if ($(this).val() == '') filled = false;
                });
                return filled;
            }
        });
    </script>
</div>
</body>
</html>
